Bootstrapper.bindDOMLoaded(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){var host=window.location.hostname.split("."),currentDomain="",script=null,useSSL=false,firstScript=document.getElementsByTagName("script")[0];var siteId=0,sites=[{site:"allaboutyou.com",id:4620},{site:"bestdaily.co.uk",id:4621},{site:"company.co.uk",id:4622},{site:"cosmopolitan.co.uk",id:4623},{site:"cosmopolitan.com",id:4623},{site:"countryliving.co.uk",id:4624},
{site:"countryliving.com",id:4624},{site:"digitalspy.com",id:4625},{site:"elleuk.com",id:4626},{site:"elle.com",id:4626},{site:"esquire.co.uk",id:4627},{site:"esquire.com",id:4627},{site:"fashionunexpected.co.uk",id:6486},{site:"goodhousekeeping.co.uk",id:4628},{site:"goodhousekeeping.com",id:4628},{site:"handbag.com",id:4629},{site:"harpersbazaar.co.uk",id:4630},{site:"harpersbazaar.com",id:4630},{site:"housebeautiful.co.uk",id:4631},{site:"housebeautiful.com",id:4631},{site:"jamieoliver.com",id:0},
{site:"menshealth.co.uk",id:4632},{site:"netdoctor.co.uk",id:4633},{site:"prima.co.uk",id:5094},{site:"synchronised.menshealth.co.uk",id:4632},{site:"redonline.co.uk",id:4634},{site:"reveal.co.uk",id:4635},{site:"runnersworld.co.uk",id:4636},{site:"sugarscape.com",id:4637},{site:"womenshealthmag.co.uk",id:4638},{site:"insidesoap.co.uk",id:5028},{site:"allaboutsoap.co.uk",id:5029},{site:"realpeoplemag.co.uk",id:5030},{site:"elledecoration.co.uk",id:5032},{site:"netdoctor.co.uk",id:4633},{site:"salonqp.com",
id:13341},{site:"staging.salonqp.com",id:13341}];host.splice(0,1);currentDomain=host.join(".");for(var i=0;i<sites.length;i++)if(sites[i].site.indexOf(currentDomain)!==-1)siteId=sites[i].id;if(siteId===0)return null;script=document.createElement("script");script.type="text/javascript";script.async=true;script.src="//tags.crwdcntrl.net/c/"+siteId+"/cc.js?ns\x3d_cc"+siteId;script.id="LOTCC_"+siteId;script.addEventListener("load",function(){if(document.readyState==="complete")window["_cc"+siteId].bcpf();
else window["_cc"+siteId].bcp()});firstScript.parentNode.insertBefore(script,firstScript)})()},2626485,250465);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;"use strict";(function(win){var version="1.0";var ofs="offset",cl="client";var noop=function(){};var testedOnce=false;var testExecuting=false;var isOldIEevents=win.addEventListener===undefined;var _options={loopDelay:50,maxLoop:1,debug:false,found:noop,notfound:noop,complete:noop};function parseAsJson(data){var result,fnData;try{result=JSON.parse(data)}catch(ex){try{fnData=
new Function("return "+data);result=fnData()}catch(e){log("Failed secondary JSON parse",true)}}return result}var AjaxHelper=function(opts){var xhr=new XMLHttpRequest;this.success=opts.success||noop;this.fail=opts.fail||noop;var me=this;var method=opts.method||"get";this.abort=function(){try{xhr.abort()}catch(ex){}};function stateChange(vals){if(xhr.readyState==4)if(xhr.status==200)me.success(xhr.response);else me.fail(xhr.status)}xhr.onreadystatechange=stateChange;function start(){xhr.open(method,
opts.url,true);xhr.send()}start()};var BlockListTracker=function(){var me=this;var externalBlocklistData={};this.addUrl=function(url){externalBlocklistData[url]={url:url,state:"pending",format:null,data:null,result:null};return externalBlocklistData[url]};this.setResult=function(urlKey,state,data){var obj=externalBlocklistData[urlKey];if(obj===null)obj=this.addUrl(urlKey);obj.state=state;if(data===null){obj.result=null;return}if(typeof data==="string")try{data=parseAsJson(data);obj.format="json"}catch(ex){obj.format=
"easylist"}obj.data=data;return obj}};var listeners=[];var baitNode=null;var quickBait={cssClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"};var baitTriggers={nullProps:[ofs+"Parent"],zeroProps:[]};baitTriggers.zeroProps=[ofs+"Height",ofs+"Left",ofs+"Top",ofs+"Width",ofs+"Height",cl+"Height",cl+"Width"];var exeResult={quick:null,remote:null};var findResult=null;var timerIds={test:0,download:0};function isFunc(fn){return typeof fn=="function"}function makeEl(tag,
attributes){var k,v,el,attr=attributes;var d=document;el=d.createElement(tag);if(attr)for(k in attr)if(attr.hasOwnProperty(k))el.setAttribute(k,attr[k]);return el}function attachEventListener(dom,eventName,handler){if(isOldIEevents)dom.attachEvent("on"+eventName,handler);else dom.addEventListener(eventName,handler,false)}function log(message,isError){if(!_options.debug&&!isError)return;if(win.console&&win.console.log)if(isError)console.error("[ABD] "+message);else console.log("[ABD] "+message)}var ajaxDownloads=
[];function loadExecuteUrl(url){var ajax,result;blockLists.addUrl(url);ajax=new AjaxHelper({url:url,success:function(data){log("downloaded file "+url);result=blockLists.setResult(url,"success",data);try{var intervalId=0,retryCount=0;var tryExecuteTest=function(listData){if(!testExecuting){beginTest(listData,true);return true}return false};if(findResult===true)return;if(tryExecuteTest(result.data))return;else{log("Pause before test execution");intervalId=setInterval(function(){if(tryExecuteTest(result.data)||
retryCount++>5)clearInterval(intervalId)},250)}}catch(ex){log(ex.message+" url: "+url,true)}},fail:function(status){log(status,true);blockLists.setResult(url,"error",null)}});ajaxDownloads.push(ajax)}function fetchRemoteLists(){var i,url;var opts=_options;for(i=0;i<opts.blockLists.length;i++){url=opts.blockLists[i];loadExecuteUrl(url)}}function cancelRemoteDownloads(){var i,aj;for(i=ajaxDownloads.length-1;i>=0;i--){aj=ajaxDownloads.pop();aj.abort()}}function beginTest(bait){log("start beginTest");
if(findResult===true)return;testExecuting=true;castBait(bait);exeResult.quick="testing";timerIds.test=setTimeout(function(){reelIn(bait,1)},5)}function castBait(bait){var i,d=document,b=d.body;var t;var baitStyle="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(bait===null||typeof bait=="string"){log("invalid bait being cast");return}if(bait.style!==null)baitStyle+=bait.style;baitNode=makeEl("div",{"class":bait.cssClass,
"style":baitStyle});log("adding bait node to DOM");b.appendChild(baitNode);for(i=0;i<baitTriggers.nullProps.length;i++)t=baitNode[baitTriggers.nullProps[i]];for(i=0;i<baitTriggers.zeroProps.length;i++)t=baitNode[baitTriggers.zeroProps[i]]}function reelIn(bait,attemptNum){var i,k,v;var body=document.body;var found=false;if(baitNode===null){log("recast bait");castBait(bait||quickBait)}if(typeof bait=="string"){log("invalid bait used",true);if(clearBaitNode())setTimeout(function(){testExecuting=false},
5);return}if(timerIds.test>0){clearTimeout(timerIds.test);timerIds.test=0}if(body.getAttribute("abp")!==null){log("found adblock body attribute");found=true}for(i=0;i<baitTriggers.nullProps.length;i++){if(baitNode[baitTriggers.nullProps[i]]===null){found=true;log("found adblock null attr: "+baitTriggers.nullProps[i]);break}if(found===true)break}for(i=0;i<baitTriggers.zeroProps.length;i++){if(found===true)break;if(baitNode[baitTriggers.zeroProps[i]]===0){found=true;log("found adblock zero attr: "+
baitTriggers.zeroProps[i])}}if(window.getComputedStyle!==undefined){var baitTemp=window.getComputedStyle(baitNode,null);if(baitTemp.getPropertyValue("display")=="none"||baitTemp.getPropertyValue("visibility")=="hidden"){found=true;log("found adblock computedStyle indicator")}}testedOnce=true;if(found||attemptNum++>=_options.maxLoop){findResult=found;log("exiting test loop - value: "+findResult);notifyListeners();if(clearBaitNode())setTimeout(function(){testExecuting=false},5)}else timerIds.test=setTimeout(function(){reelIn(bait,
attemptNum)},_options.loopDelay)}function clearBaitNode(){if(baitNode===null)return true;try{if(isFunc(baitNode.remove))baitNode.remove();document.body.removeChild(baitNode)}catch(ex){}baitNode=null;return true}function stopFishing(){if(timerIds.test>0)clearTimeout(timerIds.test);if(timerIds.download>0)clearTimeout(timerIds.download);cancelRemoteDownloads();clearBaitNode()}function notifyListeners(){var i,funcs;if(findResult===null)return;for(i=0;i<listeners.length;i++){funcs=listeners[i];try{if(funcs!==
null){if(isFunc(funcs["complete"]))funcs["complete"](findResult);if(findResult&&isFunc(funcs["found"]))funcs["found"]();else if(findResult===false&&isFunc(funcs["notfound"]))funcs["notfound"]()}}catch(ex){log("Failure in notify listeners "+ex.Message,true)}}}function attachOrFire(){var fireNow=true;var fn;fn=function(){beginTest(quickBait,false)};if(fireNow)fn();else attachEventListener(win,"load",fn)}var blockLists;var impl={version:version,init:function(options){var k,v,funcs;if(!options)return;
funcs={complete:noop,found:noop,notfound:noop};for(k in options)if(options.hasOwnProperty(k))if(k=="complete"||k=="found"||k=="notFound")funcs[k.toLowerCase()]=options[k];else _options[k]=options[k];listeners.push(funcs);blockLists=new BlockListTracker;attachOrFire()}};win["abd"]=impl})(window);window.abd=window.abd||{};window.abd.status="noResponse";if(typeof window.abd.init==="undefined")window.abd.status="abEnabled";else(function waitForBody(){if(document.readyState.match(/interactive|complete/i)){window.abd.init({debug:false,
found:function(){window.abd.status="abEnabled"},notFound:function(){window.abd.status="abDisabled"}});return}setTimeout(waitForBody,25)})()},2473965,441411);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.propertyWatcher=function(options){var _private={watchers:[]},_public={};_private.options=options||{};_private.options.interval=_private.options.interval||50;_private.Watcher=function(propertyFn,options){var _public={};_public.propertyFn=propertyFn;_public.lastValue=undefined;_public.options=options;_public.change=function(oldVal,newVal){};return _public};_private.doChecks=
function(){for(var i=0;i<_private.watchers.length;i++){var w=_private.watchers[i],p=w.propertyFn?w.propertyFn():null;if(w.lastValue!=p){w.change(w.lastValue,p);w.lastValue=p}}_private.resetTimer()};_private.resetTimer=function(){window.setTimeout(function(){_private.doChecks()},_private.options.interval)};_private.addWatcher=function(fn,options){var w=_private.Watcher(fn,options);_private.watchers.push(w);return w};_public={create:_private.addWatcher};_private.doChecks();return _public}();Bootstrapper.ajaxListener=
function(){var listeners={},listener=function(a,b){var detected=[],selector=a||function(){},attach=b||function(node){};return function(){if(typeof selector=="function"&&typeof attach=="function"){var n=selector();if(typeof n=="object")if(typeof n.length!="undefined"){n=Array.prototype.slice.call(n,0);for(var i=n.length-1;i>=0;i--)for(var j=0;j<detected.length;j++)if(n[i]==detected[j])n.splice(i,1);for(var i=0;i<n.length;detected.push(n[i++]));for(var i=0;i<n.length;attach.call(n[i],n[i++]));}else{for(var i=
0;i<detected.length;i++)if(n==detected[i])return;detected.push(n);attach.call(n,n)}}}},_public={create:function(x,y){do var a=parseInt(Math.random()*1E5)+"";while(listeners[a]);listeners[a]=listener(x,y)}};setInterval(function(){for(key in listeners)listeners[key]()},500);return _public}()},1585946,424937);